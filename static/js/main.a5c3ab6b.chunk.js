(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){e.exports=a(228)},110:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(50),i=a.n(l),o=(a(110),a(7)),c=a(8),s=a(11),m=a(9),u=a(10),d=a(4),E=a(13),p=a(99),h=a(6),b=a(74),g=a(100),f=a.n(g),y=a(101),S=a(17);function N(e){return{CREATE:{SUCCESS:"".concat(e,"_CREATE_SUCCESS"),ERROR:"".concat(e,"_CREATE_ERROR")},GET:{SUCCESS:"".concat(e,"_GET_SUCCESS"),ERROR:"".concat(e,"_GET_ERROR")},GET_ALL:{SUCCESS:"".concat(e,"_GET_ALL_SUCCESS"),ERROR:"".concat(e,"_GET_ALL_ERROR")},UPDATE:{SUCCESS:"".concat(e,"_UPDATE_SUCCESS"),ERROR:"".concat(e,"_UPDATE_ERROR")},DELETE:{SUCCESS:"".concat(e,"_DELETE_SUCCESS"),ERROR:"".concat(e,"_DELETE_ERROR")}}}var v=N("WISHLIST"),O=N("CATEGORY"),C=N("ITEM"),T={WISHLIST:v,CATEGORY:O,ITEM:C},R={apiUrl:"https://varwish-be.herokuapp.com/",originUrl:"https://varwishteam.github.io/varwish-fe/"},I=void 0,w=function(e,t,a){return fetch(R.apiUrl+t+"/",{method:e,headers:{"Content-Type":"application/json",Authorization:I&&"Token  ".concat(I),Origin:R.originUrl},body:JSON.stringify(a)}).then(function(t){return t.ok?"delete"===e?"deleted":t.json():t.json().then(function(e){return Promise.reject(e)})})},_={get:function(e,t){return w("get",e,t)},post:function(e,t){return w("post",e,t)},put:function(e,t){return w("put",e,t)},delete:function(e,t){return w("delete",e,t)},setToken:function(e){console.log("Setting currentAuthToken to ".concat(e)),I=e},ENDPOINTS:{LOGIN:"rest-auth/login",LOGOUT:"rest-auth/logout",SIGN_UP:"sign-up",WISHLIST:"wishlists",CATEGORY:"categories",ITEMS:function(e){return"wishlists/".concat(e,"/items")}}},U=a(19);var L=function(e,t){return function(a,n){var r="ITEM"===e?_.ENDPOINTS.ITEMS(t.wishlist):_.ENDPOINTS[e],l=t;return"WISHLIST"===e&&(l.user=n().userReducer.user.id),_.post(r,l).then(function(t){return"WISHLIST"===e||"ITEM"===e?t[0]:t}).then(function(t){return a({type:T[e].CREATE.SUCCESS,payload:t}),t}).catch(function(t){throw a({type:T[e].CREATE.ERROR,payload:t}),t})}},j=function(e){return function(t,a){return _.get(_.ENDPOINTS[e]).then(function(a){return"WISHLIST"===e&&(!function(e){var t=[];e.forEach(function(e){t.push.apply(t,Object(U.a)(e.items))}),$.dispatch({type:C.GET_ALL.SUCCESS,payload:t})}(a),a.forEach(function(e){delete e.items})),t({type:T[e].GET_ALL.SUCCESS,payload:a}),a}).catch(function(a){throw t({type:T[e].GET_ALL.ERROR,payload:a}),a})}},k=function(e,t){return function(a,n){return _.get(_.ENDPOINTS[e]+"/"+t).then(function(t){return a({type:T[e].GET.SUCCESS,payload:t}),t}).catch(function(t){throw a({type:T[e].GET.ERROR,payload:t}),t})}},A=function(e,t){return function(a,n){var r="ITEM"===e?_.ENDPOINTS.ITEMS(t.wishlist):_.ENDPOINTS[e],l=t;return"WISHLIST"===e&&(l.user=n().userReducer.user.id),_.put(r+"/"+t.id,l).then(function(t){return a({type:T[e].UPDATE.SUCCESS,payload:t}),t}).catch(function(t){throw a({type:T[e].UPDATE.ERROR,payload:t}),t})}},D=function(e,t){return function(a){var n="ITEM"===e?_.ENDPOINTS.ITEMS(t.wishlist):_.ENDPOINTS[e];return _.delete(n+"/"+t.id).then(function(n){return console.log(n),a({type:T[e].DELETE.SUCCESS,payload:t.id}),n}).catch(function(t){a({type:T[e].DELETE.ERROR,payload:t})})}},M=function(){return j("CATEGORY")},G={SIGN_UP:{SUCCESS:"USER_SIGN_UP_SUCCESS",ERROR:"USER_SIGN_UP_ERROR",RESET_ERRORS:"USER_SIGN_UP_RESET_ERRORS"},UPDATE:{SUCCESS:"USER_UPDATE_SUCCESS",ERROR:"USER_UPDATE_ERROR"},DELETE:{SUCCESS:"USER_DELETE_SUCCESS",ERROR:"USER_DELETE_ERROR"},LOGIN:{SUCCESS:"USER_LOGIN_SUCCESS",ERROR:"USER_LOGIN_ERROR",RESET_ERRORS:"USER_LOGIN_RESET_ERRORS"},LOGOUT:{SUCCESS:"USER_LOGOUT_SUCCESS",ERROR:"USER_LOGOUT_ERROR"}},W=function(){return function(e){return _.post(_.ENDPOINTS.LOGOUT),e({type:G.LOGOUT}),Promise.resolve("logged_out")}},P={OPEN:"MODAL_OPEN",CLOSE:"MODAL_CLOSE"};function x(e){return{CREATE:"".concat(e,"_CREATE_MODAL"),UPDATE:"".concat(e,"_UPDATE_MODAL"),DETAIL:"".concat(e,"_DETAIL_MODAL")}}var H={WISHLIST:x("WISHLIST"),ITEM:x("ITEM"),CATEGORY:x("CATEGORY")},Y=function(e){var t=e.modalType,a=e.item,n=e.category;return{type:P.OPEN,payload:{modalType:t,item:a,category:n}}},F=function(){return{type:P.CLOSE}};var q=a(231);function V(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case T[e].CREATE.SUCCESS:return[].concat(Object(U.a)(t),[a.payload]);case T[e].GET_ALL.SUCCESS:return a.payload;case T[e].GET.SUCCESS:case T[e].UPDATE.SUCCESS:return[].concat(Object(U.a)(t.filter(function(e){return e.id!==a.payload.id})),[a.payload]);case T[e].DELETE.SUCCESS:return Object(U.a)(t.filter(function(e){return e.id!==a.payload}));default:return t}}}var z=Object(h.c)({wishlists:V("WISHLIST"),categories:V("CATEGORY"),items:V("ITEM"),userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.SIGN_UP.SUCCESS:return Object(S.a)({},e,{isLoggedIn:!0,user:t.payload,signUpError:null});case G.SIGN_UP.ERROR:return Object(S.a)({},e,{isLoggedIn:!1,user:null,signUpError:t.payload});case G.SIGN_UP.RESET_ERRORS:return Object(S.a)({},e,{signUpError:null});case G.UPDATE.SUCCESS:return Object(S.a)({},e,{user:t.payload});case G.DELETE.SUCCESS:return Object(S.a)({},e,{user:{}});case G.LOGIN.SUCCESS:return Object(S.a)({},e,{isLoggedIn:!0,user:t.payload});case G.LOGIN.ERROR:case G.LOGOUT:return Object(S.a)({},e,{isLoggedIn:!1,user:{}});default:return e}},modalReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.OPEN:return Object(S.a)({},e,{openedModal:t.payload.modalType,currentlyEditedItem:t.payload.item||{},currentlyEditedCategory:t.payload.category||{}});case P.CLOSE:return Object(S.a)({},e,{openedModal:null,currentlyEditedItem:{},currentlyEditedCategory:{}});default:return e}},form:q.a}),B={key:"root",storage:f.a,blacklist:["modalReducer","form"]},X=Object(b.a)(B,z),$=Object(h.e)(X,{userReducer:{isLoggedIn:!1,user:{}},wishlists:[],categories:[],items:[],modalReducer:{openedModal:null,currentlyEditedItem:{},currentlyEditedCategory:{}}},Object(h.d)(Object(h.a)(y.a,function(e){return function(t){return function(a){return a.type===G.LOGIN.SUCCESS&&_.setToken(a.payload.key),a.type===G.SIGN_UP.SUCCESS&&_.setToken(a.payload.key),"persist/REHYDRATE"===a.type&&a.payload&&_.setToken(a.payload.userReducer.user.key),a.type===G.LOGOUT&&_.setToken(null),a.payload&&"Invalid token."===a.payload.detail&&e.dispatch(W()),t(a)}}}),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),J=Object(b.b)($);function K(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navbar navbar-light bg-faded"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"drawer","data-target":"#main-drawer","aria-expanded":"false"},r.a.createElement("span",{className:"sr-only"},"Toggle drawer"),r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"nav navbar-nav"},r.a.createElement("li",{className:"nav-item"},"VarWish"))))}var Q=a(30),Z=Object(Q.f)(function(e){var t=e.history,a=e.isLoggedIn,n=e.dispatchLogOut;return a?r.a.createElement("button",{type:"button",className:"btn btn-primary btn-block list-group-item",onClick:function(){n().then(function(){return t.push("/")})}},r.a.createElement("i",{className:"material-icons"},"close"),"Log Out"):r.a.createElement(E.b,{to:"/login",color:"inherit"},r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Log In"))}),ee=Object(d.b)(function(e){return{isLoggedIn:e.userReducer.isLoggedIn}},function(e){return{dispatchLogOut:function(){return e(W())}}})(Z),te=Object(d.b)(function(e){return{isLoggedIn:e.userReducer.isLoggedIn}},null)(function(e){return!e.isLoggedIn&&r.a.createElement(E.b,{to:"/sign-up",color:"inherit"},r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Sign Up"))}),ae=(a(181),function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"bounce1"}),r.a.createElement("div",{className:"bounce2"}),r.a.createElement("div",{className:"bounce3"}))}),ne=(a(182),document.getElementById("modal-root")),re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).el=document.createElement("div"),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){ne.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){ne.removeChild(this.el)}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.modalType,n=e.children,l=e.openedModal,o=e.dispatchCloseModal;return n?l===a?i.a.createPortal(r.a.createElement("div",{id:"modal",className:"modal d-block",tabIndex:"-1",role:"dialog"},r.a.createElement("div",{className:"modal-backdrop",onClick:o}),r.a.createElement("div",{className:"modal-dialog  modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},t),r.a.createElement("button",{type:"button",className:"close",onClick:o,"aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},n)))),this.el):null:(console.error("Error in Modal component: You need to pass some children to be rendered in the Modal"),null)}}]),t}(n.Component),le=Object(d.b)(function(e){return{openedModal:e.modalReducer.openedModal}},function(e){return{dispatchCloseModal:function(){return e(F())}}})(re),ie=a(104),oe=a(229),ce=a(230),se=function(e){var t=e.input,a=e.label,n=e.type,l=e.meta,i=l.touched,o=l.error,c=l.warning;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t.name},a),r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:"form-control ".concat(o&&"is-invalid")},t,{type:n})),i&&(o&&r.a.createElement("span",{className:"text-danger"},o)||c&&r.a.createElement("span",{className:"text-warning"},c))))};function me(e){var t=e.name,a=e.type,n=e.label;return r.a.createElement(ce.a,{name:t,component:se,type:a,label:n})}var ue=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.wishlist;e&&this.props.initialize({name:e.name,description:e.description})}},{key:"render",value:function(){var e=this.props,t=e.wishlist,a=e.handleSubmit,n=e.submitting,l=e.pristine,i=e.invalid,o=e.dispatchCreateWishlist,c=e.dispatchUpdateWishlist,s=e.closeModal,m=e.modalType;return r.a.createElement("form",{id:"wishlistForm",onSubmit:a(function(e){return m===H.WISHLIST.CREATE?(e.items=[],o(e).then(s).catch(function(e){throw new ie.a(e)})):m===H.WISHLIST.UPDATE?(e.id=t.id,c(e).then(s).catch(function(e){throw new ie.a(e)})):void 0}),className:"m-0"},r.a.createElement(me,{name:"name",type:"text",label:"Wishlist name"}),r.a.createElement(me,{name:"description",type:"text",label:"Wishlist description"}),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:s},"Cancel"),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:l||i||n},"Save")))}}]),t}(n.Component),de=Object(oe.a)({form:"wishlistForm",validate:function(e){var t={};return(!e.name||e.name.trim().length<1)&&(t.name="Required"),(!e.description||e.description.trim().length<1)&&(t.description="Required"),t}})(Object(d.b)(null,function(e){return{dispatchCreateWishlist:function(t){return e(L("WISHLIST",t))},dispatchUpdateWishlist:function(t){return e(A("WISHLIST",t))},closeModal:function(){return e(F())}}})(ue)),Ee=function(){return r.a.createElement(de,{modalType:H.WISHLIST.CREATE})},pe=function(e){var t=e.wishlist;return r.a.createElement(de,{modalType:H.WISHLIST.UPDATE,wishlist:t})},he=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.category;e&&this.props.initialize({name:e.name})}},{key:"render",value:function(){var e=this.props,t=e.category,a=e.handleSubmit,n=e.submitting,l=e.pristine,i=e.invalid,o=e.dispatchCreateCategory,c=e.dispatchUpdateCategory,s=e.closeModal,m=e.modalType;return r.a.createElement("form",{id:"categoryForm",onSubmit:a(function(e){return m===H.CATEGORY.CREATE?o(e).then(s).catch(function(e){throw new ie.a(e)}):m===H.CATEGORY.UPDATE?(e.id=t.id,c(e).then(s).catch(function(e){throw new ie.a(e)})):void 0}),className:"m-0"},r.a.createElement(me,{name:"name",type:"text",label:"Category name"}),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:s},"Cancel"),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:l||i||n},"Save")))}}]),t}(n.Component),be=Object(oe.a)({form:"categoryForm",validate:function(e){var t={};return(!e.name||e.name.trim().length<1)&&(t.name="Required"),t}})(Object(d.b)(null,function(e){return{dispatchCreateCategory:function(t){return e(L("CATEGORY",t))},dispatchUpdateCategory:function(t){return e(A("CATEGORY",t))},closeModal:function(){return e(F())}}})(he)),ge=function(){return r.a.createElement(be,{modalType:H.CATEGORY.CREATE})},fe=function(e){var t=e.category;return r.a.createElement(be,{modalType:H.CATEGORY.UPDATE,category:t})},ye=function(e){var t=e.input,a=e.label,n=e.options,l=e.selectedOption,i=e.meta,o=i.touched,c=i.error,s=i.warning;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t.name},a),r.a.createElement("div",null,r.a.createElement("select",Object.assign({value:l,className:"form-control ".concat(c&&"is-invalid")},t),n.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})),o&&(c&&r.a.createElement("span",{className:"text-danger"},c)||s&&r.a.createElement("span",{className:"text-warning"},s))))};function Se(e){var t=e.name,a=e.label,n=e.options,l=e.selectedOption;return r.a.createElement(ce.a,{name:t,component:ye,label:a,options:n,selectedOption:l})}var Ne=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.item;e&&this.props.initialize({item_name:e.item_name,note:e.note,link:e.link,price:e.price,amount:e.amount,category:e.category})}},{key:"render",value:function(){var e=this.props,t=e.item,a=e.wishlistId,n=e.handleSubmit,l=e.submitting,i=e.pristine,o=e.invalid,c=e.dispatchCreateItem,s=e.dispatchUpdateItem,m=e.closeModal,u=e.modalType,d=e.categories;return r.a.createElement("form",{id:"itemForm",onSubmit:n(function(e){return e.wishlist=a,u===H.ITEM.CREATE?c(e).then(m).catch(function(e){throw new ie.a(e)}):u===H.ITEM.UPDATE?(e.id=t.id,s(e).then(m).catch(function(e){throw new ie.a(e)})):void 0}),className:"m-0"},r.a.createElement(me,{name:"item_name",type:"text",label:"Item name"}),r.a.createElement(me,{name:"note",type:"text",label:"Note"}),r.a.createElement(me,{name:"link",type:"url",label:"Link"}),r.a.createElement(me,{name:"price",type:"number",label:"Price"}),r.a.createElement(me,{name:"amount",type:"number",label:"Amount"}),r.a.createElement(Se,{name:"category",label:"Category",options:d,selectedOption:t&&t.category}),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:m},"Cancel"),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:i||o||l},"Save")))}}]),t}(n.Component),ve=Object(oe.a)({form:"itemForm",validate:function(e){var t={};return(!e.item_name||e.item_name.trim().length<1)&&(t.item_name="Required"),(!e.note||e.note.trim().length<1)&&(t.note="Required"),(!e.link||e.link.trim().length<1)&&(t.link="Required"),e.amount||(t.amount="Required"),e.price||(t.price="Required"),e.category||(t.price="Required"),t}})(Object(d.b)(function(e){return{categories:e.categories}},function(e){return{dispatchCreateItem:function(t){return e(L("ITEM",t))},dispatchUpdateItem:function(t){return e(A("ITEM",t))},closeModal:function(){return e(F())}}})(Ne)),Oe=function(e){var t=e.item,a=e.wishlistId;return r.a.createElement(ve,{modalType:H.ITEM.CREATE,item:t,wishlistId:a})},Ce=function(e){var t=e.item,a=e.wishlistId;return r.a.createElement(ve,{modalType:H.ITEM.UPDATE,item:t,wishlistId:a})},Te=(a(220),function(e){var t,a=e.wishlist,n=e.items;return r.a.createElement(E.b,{to:"/wishlists/".concat(a.id),className:"homepage-wishlist"},r.a.createElement("div",{className:"card homepage-wishlist--container"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title homepage-wishlist--title"},a.name),r.a.createElement("div",{className:"card-text homepage-wishlist--text"},n&&n.length>0&&r.a.createElement("ul",null,(t=n,t.length<=5?t:t.slice(0,5)).map(function(e){return r.a.createElement("li",{key:e.id},e.item_name)}))))))});var Re=Object(d.b)(function(e){return{wishlists:e.wishlists}},null)(Object(Q.f)(function(e){var t=e.location,a=e.wishlists;return r.a.createElement("div",{className:"d-flex flex-column justify-content-between flex-grow-1"},r.a.createElement("ul",{className:"nav flex-column border-bottom"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.b,{className:"nav-link p-0",to:"/"},r.a.createElement("button",{type:"button",className:"btn btn-primary btn-block list-group-item ".concat("/"===t.pathname&&"active"),"data-toggle":"drawer","data-target":"#main-drawer"},"Wishlists")),r.a.createElement("ul",{className:"nav flex-column ml-4"},a.sort(function(e,t){var a=e.name.toUpperCase(),n=t.name.toUpperCase();return a<n?-1:a>n?1:0}).map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(E.b,{className:"nav-link p-0",to:"/wishlists/".concat(e.id)},r.a.createElement("button",{type:"button",className:"btn btn-primary btn-block list-group-item ".concat(t.pathname.includes("/wishlists/".concat(e.id))&&"active"),"data-toggle":"drawer","data-target":"#main-drawer"},e.name)))}))),r.a.createElement("li",{className:"nav-item border-top"},r.a.createElement(E.b,{className:"nav-link p-0",to:"/categories"},r.a.createElement("button",{type:"button",className:"btn btn-primary btn-block list-group-item ".concat(t.pathname.includes("/categories")&&"active"),"data-toggle":"drawer","data-target":"#main-drawer"},"Categories")))),r.a.createElement("ul",{className:"nav flex-column border-top"},r.a.createElement("li",null,r.a.createElement(ee,null))))}));function Ie(e){var t=e.children;return r.a.createElement("div",{className:"position-relative vw-100 vh-100"},r.a.createElement("div",{className:"bmd-layout-container bmd-drawer-f-l bmd-drawer-in-lg-up bmd-drawer-overlay-md-down"},r.a.createElement("header",{className:"bmd-layout-header d-lg-none"},r.a.createElement(K,null)),r.a.createElement("div",{id:"main-drawer",className:"bmd-layout-drawer bg-faded","aria-expanded":"false","aria-hidden":"true"},r.a.createElement("header",{className:"d-flex flex-column align-items-center"},r.a.createElement("i",{className:"material-icons md-48"},"list_alt"),r.a.createElement("span",{className:"h3 navbar-brand font-weight-bold"},"VarWish")),r.a.createElement(Re,null)),r.a.createElement("main",{className:"bmd-layout-content"},r.a.createElement("div",{className:"container-fluid p-2"},t))))}var we=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement(E.b,{to:"/"},r.a.createElement("span",{className:"navbar-brand mb-0 h1"},"VarWish")),r.a.createElement("div",{className:"navbar-authbuttons"},r.a.createElement(ee,{type:"button"}),r.a.createElement(te,{type:"button"}))),t)},_e=a(103);a(221);function Ue(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"jumbotron"},r.a.createElement("p",{className:"text-muted"},"Welcome to"),r.a.createElement("h1",{className:"display-2"},"VarWish"),r.a.createElement("p",{className:"lead"},"The variable wishlist"),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",{className:"lead"},r.a.createElement(E.b,{className:"btn btn-primary btn-lg",to:"/sign-up",role:"button"},"Sign Up"))),r.a.createElement("div",{className:"about p-4"},r.a.createElement("h2",null,"About"),r.a.createElement("p",null,"This app is a part of a student project @FIT @CVUT. The application is currenly in developement phase and",r.a.createElement("strong",null," could contain some bugs"),". You have been warned.")))}a(222);var Le=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.isLoggedIn&&this.props.getAllWishlists(),this.props.isLoggedIn&&this.props.getAllCategories()}},{key:"render",value:function(){var e=this.props,t=e.isLoggedIn,a=e.wishlists,n=e.items,l=e.openWishlistCreateModal;return t?r.a.createElement("div",{className:"home"},r.a.createElement("header",{className:"nav header"},r.a.createElement("h1",{className:"header__title"},"Wishlists"),r.a.createElement("button",{type:"button",className:"btn btn-primary btn-icon header__button",onClick:l},r.a.createElement("i",{className:"material-icons"},"add"),"New Wishlist")),r.a.createElement("main",{className:"main-content"},a&&a.length>0?function(e,t){return e.sort(function(e,t){var a=e.name.toUpperCase(),n=t.name.toUpperCase();return a<n?-1:a>n?1:0}).map(function(e){return r.a.createElement(Te,{key:e.id||"id-not-yet-available",wishlist:e,items:t.filter(function(t){return t.wishlist===e.id})})})}(a,n):r.a.createElement("div",{className:"no-content"},r.a.createElement("p",null,"You have no wishlists... Yet."),r.a.createElement("p",null,"Click or tap the ",r.a.createElement("strong",null,"NEW WISHLIST")," button above to get started."),r.a.createElement("img",{src:"/img/undraw_wishlist_jk8a.svg",alt:"Wishlist","aria-hidden":"true",className:"no-content__img"}))),r.a.createElement("aside",null,r.a.createElement(le,{title:"New wishlist",modalType:H.WISHLIST.CREATE},r.a.createElement(Ee,null)))):r.a.createElement(Ue,null)}}]),t}(n.Component),je=Object(d.b)(function(e){return{user:e.userReducer.user,isLoggedIn:e.userReducer.isLoggedIn,wishlists:e.wishlists,items:e.items}},function(e){return{getAllWishlists:function(){return e(j("WISHLIST"))},getAllCategories:function(){return e(M())},openWishlistCreateModal:function(){return e(Y({modalType:H.WISHLIST.CREATE}))}}})(Le),ke=(a(223),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={redirectToReferrer:!1,loginErrors:[]},a.login=function(e){return a.props.dispatchLogIn(e).catch(function(e){throw window.$(".login-form").on("webkitAnimationEnd",function(){window.$(".login-form").removeClass("shake")}),window.$(".login-form").addClass("shake"),a.setState({loginErrors:Object(U.a)(Object.values(e))}),new ie.a(e)})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=(this.props.location.state||{from:{pathname:"/"}}).from,t=this.state,a=t.redirectToReferrer,n=t.loginErrors,l=this.props,i=l.handleSubmit,o=l.submitting,c=l.pristine,s=l.invalid;return a?r.a.createElement(Q.a,{to:e}):r.a.createElement("div",{className:"login wrapper"},r.a.createElement("img",{src:"/img/undraw_authentication_fsn5.svg",alt:"Authentication","aria-hidden":"true",className:"login__img d-sm-none d-md-block"}),r.a.createElement("form",{id:"loginForm",onSubmit:i(this.login),className:"login-form"},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Please log in"),n.length>0&&r.a.createElement("div",{className:"alert alert-danger",role:"alert"},n.map(function(e,t){return r.a.createElement("span",{key:t},e)})),r.a.createElement(me,{name:"username",type:"text",label:"Username"}),r.a.createElement(me,{name:"password",type:"password",label:"Password"}),r.a.createElement(me,{name:"rememberLogin",type:"checkbox",label:"Remember me"}),r.a.createElement("button",{type:"submit",className:"btn btn-lg btn-primary btn-block btn-outline mt-3",disabled:c||s||o},o?r.a.createElement(ae,null):"Log In")))}}]),t}(n.Component)),Ae=Object(oe.a)({form:"loginForm",validate:function(e){var t={};return(!e.username||e.username.trim().length<1)&&(t.username="Required"),(!e.password||e.password.trim().length<1)&&(t.password="Required"),t}})(Object(d.b)(null,function(e){return{dispatchLogIn:function(t,a){return e(function(e){var t=e.username,a=e.password,n=e.rememberLogin;return function(e){return _.post(_.ENDPOINTS.LOGIN,{username:t,password:a}).then(function(t){t.user&&t.key?e({type:G.LOGIN.SUCCESS,payload:{id:t.user,key:t.key,rememberLogin:n}}):e({type:G.LOGIN.ERROR,payload:t})})}}(t))}}})(ke));var De=Object(Q.f)(function(e){var t=e.location;return r.a.createElement("div",{className:"no-content d-flex flex-column align-items-center"},r.a.createElement("h1",null,"404 - Not found"),r.a.createElement("p",null,"There's nothing on this path \"",t.pathname,'"'),r.a.createElement(E.b,{to:"/"},r.a.createElement("button",{className:"btn btn-primary"},"Go to homepage")),r.a.createElement("img",{src:"/img/undraw_not_found_60pq.svg",alt:"Not found","aria-hidden":"true",className:"no-content__img"}))}),Me=a(52),Ge=(a(224),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={firstName:"",lastName:"",username:"",email:"",passwordSet:"",passwordConfirm:"",errors:{},signUpErrors:[]},a.handleSignUp=function(e){e.preventDefault(),a.setState({isLoading:!0}),a.props.dispatchSignUp(Object(S.a)({},a.state)).then(function(){a.setState({isLoading:!1})}).catch(function(e){a.setState({signUpErrors:Object(U.a)(Object.values(e)),isLoading:!1})})},a.handleChange=function(e){return function(t){a.setState(Object(Me.a)({},e,t.target.value))}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.resetSignUpErrors()}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.passwordSet,n=e.passwordConfirm,l=e.email,i=e.firstName,o=e.lastName,c=e.signUpErrors,s=e.isLoading;return r.a.createElement("div",{className:"signup wrapper"},r.a.createElement("img",{src:"/img/undraw_authentication_fsn5.svg",alt:"Authentication","aria-hidden":"true",className:"signup__img d-sm-none d-md-block"}),r.a.createElement("form",{className:"signup-form"},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Sign Up"),!!c.length&&r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Invalid values"),r.a.createElement("div",{className:"bmd-form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"username",placeholder:"Username",value:t,onChange:this.handleChange("username")})),r.a.createElement("div",{className:"bmd-form-group"},r.a.createElement("input",{type:"text",id:"email",className:"form-control",placeholder:"Email",value:l,onChange:this.handleChange("email")})),r.a.createElement("div",{className:"bmd-form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"first-name",placeholder:"First name",value:i,onChange:this.handleChange("firstName")})),r.a.createElement("div",{className:"bmd-form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"last-name",placeholder:"Last name",value:o,onChange:this.handleChange("lastName")})),r.a.createElement("div",{className:"bmd-form-group"},r.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Type in yout password",value:a,onChange:this.handleChange("passwordSet")})),r.a.createElement("div",{className:"bmd-form-group"},r.a.createElement("input",{type:"password",className:"form-control",id:"password-confirm",placeholder:"Confirm a password",value:n,onChange:this.handleChange("passwordConfirm")})),r.a.createElement("button",{type:"button",className:"btn btn-lg btn-primary btn-block btn-outline mt-3",onClick:this.handleSignUp},s?r.a.createElement(ae,null):"Sign-Up")))}}]),t}(n.Component)),We=Object(d.b)(null,function(e){return{dispatchSignUp:function(t){return e(function(e){var t=e.firstName,a=e.lastName,n=e.username,r=e.email,l=e.passwordSet,i=e.passwordConfirm;return function(e){return _.post(_.ENDPOINTS.SIGN_UP,{username:n,email:r,password1:l,password2:i,first_name:t,last_name:a}).then(function(t){t.user&&t.key?e({type:G.SIGN_UP.SUCCESS,payload:{id:t.user,key:t.key}}):e({type:G.SIGN_UP.ERROR,payload:{error:t}})})}}(t))},resetSignUpErrors:function(){return e({type:G.SIGN_UP.RESET_ERRORS})}}})(Ge),Pe=(a(225),a(226),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.onUpdate,n=e.onDelete,l=e.onDetail;return r.a.createElement("div",{className:"item-card card w-100 m-2"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto",onClick:function(){return l(t)}},r.a.createElement("img",{src:"//placehold.it/100",className:"img-fluid",alt:""})),r.a.createElement("div",{className:"col",onClick:function(){return l(t)}},r.a.createElement("div",{className:"card-block"},r.a.createElement("h4",{className:"card-title"},t.item_name),r.a.createElement("p",{className:"card-text"},t.note))),r.a.createElement("div",{className:"card-block"},r.a.createElement("div",{className:"col d-flex flex-column"},r.a.createElement("button",{type:"button",className:"btn text-secondary bmd-btn-icon",onClick:function(){return a(t)}},r.a.createElement("i",{className:"material-icons"},"edit")),r.a.createElement("button",{type:"button",className:"btn text-secondary bmd-btn-icon",onClick:function(){return n(t)}},r.a.createElement("i",{className:"material-icons"},"delete"))))))}}]),t}(n.Component)),xe=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.categories;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("img",{src:"//placehold.it/200",className:"img-fluid",alt:""})),r.a.createElement("div",{className:"col"},r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"text-muted"},"Price:"),t.price),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"text-muted"},"Amount:"),t.amount),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"text-muted"},"Link:"),r.a.createElement("a",{href:t.link},t.link)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"text-muted"},"Category:"),a.find(function(e){return e.id===t.category}).name)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"text-muted"},"Description"),r.a.createElement("p",null,t.note))))}}]),t}(n.Component),He=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={currentlyViewedItem:{}},a.renderItems=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"list-unstyled items-list"},e&&e.length>0?e.map(function(e,t){return r.a.createElement("li",{key:e.id},r.a.createElement(Pe,{item:e,onUpdate:a.props.openUpdateItemModal,onDelete:a.handleDeleteItem,onDetail:function(){a.setState({currentlyViewedItem:e}),a.props.openItemDetailModal(e)}}))}):r.a.createElement("div",{className:"no-content"},r.a.createElement("p",null,"This wishlist contains no items... Yet."),r.a.createElement("p",null,"Click or tap the ",r.a.createElement("strong",null,"NEW ITEM")," button above to get started."),r.a.createElement("img",{src:"/img/undraw_no_data_qbuo.svg","aria-hidden":"true",alt:"Blank paper",className:"no-content__img"}))))},a.renderHeader=function(){var e=a.props,t=e.openWishlistUpdateModal,n=e.wishlist,l=e.dispatchDeleteWishlist,i=e.openCreateItemModal;return r.a.createElement("div",{className:"nav header"},r.a.createElement("h1",{className:"nav-item header__title"},n.name),r.a.createElement("p",{className:"header__description"},n.description),r.a.createElement("div",{className:"btn-group d-block header__buttons header__buttons--right",role:"group","aria-label":"Wihslist actions"},r.a.createElement("button",{type:"button",className:"btn btn-secondary btn-icon",onClick:t},r.a.createElement("i",{className:"material-icons"},"edit"),"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-danger btn-icon","data-toggle":"snackbar","data-content":"Wishlist ".concat(n.name," deleted"),"data-html-allowed":"true","data-timeout":"5000",onClick:function(){return l(n)}},r.a.createElement("i",{className:"material-icons"},"delete"),"Delete")),r.a.createElement("div",{className:"btn-group d-block header__buttons header__buttons--left"},r.a.createElement("button",{className:"btn btn-primary btn-icon new-item-btn",onClick:i},r.a.createElement("i",{className:"material-icons"},"add"),"New item")))},a.handleDeleteItem=function(e){e.wishlist=a.props.wishlist.id,a.props.dispatchDeleteItem(e).then(function(){return a.forceUpdate()})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getWishlist()}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.wishlist,n=e.items,l=e.categories;return r.a.createElement(r.a.Fragment,null,void 0===a?r.a.createElement("div",{className:"no-content"},r.a.createElement("p",null,"Wishlist with id: ",t.params.wishlistId," was not found!"),r.a.createElement("img",{src:"/img/undraw_not_found_60pq.svg",alt:"Not found","aria-hidden":"true",className:"no-content__img"})):r.a.createElement("div",{className:"wishlist-detail"},this.renderHeader(),r.a.createElement("section",{className:"items-section"},n&&this.renderItems(n)),r.a.createElement("aside",null,r.a.createElement(le,{title:this.state.currentlyViewedItem.item_name,modalType:H.ITEM.DETAIL},r.a.createElement(xe,{item:this.state.currentlyViewedItem,categories:l,onUpdate:this.props.openUpdateItemModal,onDelete:this.handleDeleteItem})),r.a.createElement(le,{title:"Editing ".concat(a.name),modalType:H.WISHLIST.UPDATE},r.a.createElement(pe,{wishlist:a})),r.a.createElement(le,{title:"New item",modalType:H.ITEM.CREATE},r.a.createElement(Oe,{wishlistId:a.id})),r.a.createElement(le,{title:"Editing ".concat(this.props.currentlyEditedItem.item_name),modalType:H.ITEM.UPDATE},r.a.createElement(Ce,{wishlistId:a.id,item:this.props.currentlyEditedItem})))))}}]),t}(n.Component),Ye=Object(Q.f)(Object(d.b)(function(e,t){return{wishlist:e.wishlists.filter(function(e){return e.id===t.match.params.wishlistId})[0],items:e.items.filter(function(e){return e.wishlist===t.match.params.wishlistId}),categories:e.categories,openedModal:e.modalReducer.openedModal,currentlyEditedItem:e.modalReducer.currentlyEditedItem}},function(e,t){return{getWishlist:function(){return e((a=t.match.params.wishlistId,k("WISHLIST",a)));var a},dispatchDeleteWishlist:function(a){var n;e((n=a,D("WISHLIST",n))).then(function(){t.history.push("/")})},openWishlistUpdateModal:function(){return e(Y({modalType:H.WISHLIST.UPDATE}))},openCreateItemModal:function(){return e(Y({modalType:H.ITEM.CREATE}))},openItemDetailModal:function(t){return e(Y({modalType:H.ITEM.DETAIL,item:t}))},openUpdateItemModal:function(t){return e(Y({modalType:H.ITEM.UPDATE,item:t}))},dispatchDeleteItem:function(t){return e(D("ITEM",t))}}})(He)),Fe=(a(227),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).renderCategories=function(e){return r.a.createElement("ul",{className:"list-group"},e.map(function(e,t){return r.a.createElement("li",{key:e.id,className:"d-flex flex-row list-group-item ".concat(t%2===0&&"bg-light")},r.a.createElement("span",null,e.name),r.a.createElement("div",{className:"flex-grow-1"}),r.a.createElement("button",{type:"button",className:"btn text-secondary bmd-btn-icon",onClick:function(){return a.props.openUpdateCategoryModal(e)}},r.a.createElement("i",{className:"material-icons"},"edit")),r.a.createElement("button",{type:"button",className:"btn text-secondary bmd-btn-icon",onClick:function(){return a.handleDeleteCategory(e)}},r.a.createElement("i",{className:"material-icons"},"delete")))}))},a.handleDeleteCategory=function(e){a.props.dispatchDeleteCategory(e).then(function(){return a.forceUpdate()})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.isLoggedIn&&this.props.getAllCategories()}},{key:"render",value:function(){var e=this.props,t=e.openCategoryCreateModal,a=e.categories;return r.a.createElement("div",{className:"categories"},r.a.createElement("header",{className:"header nav"},r.a.createElement("h1",{className:"header__title"},"Categories"),r.a.createElement("button",{type:"button",className:"btn btn-primary btn-icon header__button",onClick:t},r.a.createElement("i",{className:"material-icons"},"add"),"New Category")),r.a.createElement("main",{className:"main-content"},a&&a.length>0?this.renderCategories(a):r.a.createElement("div",{className:"no-content"},r.a.createElement("p",null,"You have no categories... Yet."),r.a.createElement("p",null,"Click or tap the ",r.a.createElement("strong",null,"NEW CATEGORY")," button above to get started."),r.a.createElement("img",{src:"/img/undraw_empty_xct9.svg",alt:"Empty","aria-hidden":"true",className:"no-content__img"}))),r.a.createElement("aside",null,r.a.createElement(le,{title:"New category",modalType:H.CATEGORY.CREATE},r.a.createElement(ge,null)),r.a.createElement(le,{title:"Editing ".concat(this.props.currentlyEditedCategory.name),modalType:H.CATEGORY.UPDATE},r.a.createElement(fe,{category:this.props.currentlyEditedCategory}))))}}]),t}(n.Component)),qe=Object(d.b)(function(e){return{isLoggedIn:e.userReducer.isLoggedIn,categories:e.categories,currentlyEditedCategory:e.modalReducer.currentlyEditedCategory}},function(e){return{getAllCategories:function(){return e(M())},openCategoryCreateModal:function(){return e(Y({modalType:H.CATEGORY.CREATE}))},openUpdateCategoryModal:function(t){return e(Y({modalType:H.CATEGORY.UPDATE,category:t}))},dispatchDeleteCategory:function(t){return e(D("CATEGORY",t))}}})(Fe);var Ve=function(){return r.a.createElement(Q.a,{to:{pathname:"/"}})},ze=function(e){return{isLoggedIn:e.userReducer.isLoggedIn}},Be=Object(d.b)(ze,null)(function(e){var t=e.component,a=e.isLoggedIn,n=Object(_e.a)(e,["component","isLoggedIn"]);return r.a.createElement(Q.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(Q.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}),Xe=Object(d.b)(ze,null)(function(e){return e.isLoggedIn?r.a.createElement(Ie,null,r.a.createElement(Q.d,null,r.a.createElement(Q.b,{exact:!0,path:"/",component:je}),r.a.createElement(Q.b,{path:"/login",component:Ve}),r.a.createElement(Q.b,{path:"/sign-up",component:Ve}),r.a.createElement(Q.b,{exact:!0,path:"/wishlists",component:Ve}),r.a.createElement(Be,{path:"/wishlists/:wishlistId",component:Ye}),r.a.createElement(Be,{path:"/categories",component:qe}),r.a.createElement(Q.b,{component:De}))):r.a.createElement(we,null,r.a.createElement(Q.d,null,r.a.createElement(Q.b,{exact:!0,path:"/",component:je}),r.a.createElement(Q.b,{path:"/login",component:Ae}),r.a.createElement(Q.b,{path:"/sign-up",component:We}),r.a.createElement(Q.b,{component:De})))}),$e=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:$},r.a.createElement(p.a,{loading:r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),persistor:J},r.a.createElement(E.a,{basename:"/varwish-fe"},r.a.createElement(Xe,null))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement($e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[105,1,2]]]);
//# sourceMappingURL=main.a5c3ab6b.chunk.js.map