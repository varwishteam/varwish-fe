(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){e.exports=a(223)},110:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(50),l=a.n(i),o=(a(110),a(10)),s=a(11),c=a(14),m=a(12),u=a(13),d=a(5),E=a(9),p=a(99),h=a(6),b=a(74),f=a(100),S=a.n(f),g=a(101),R=a(7),y={SIGN_UP:{SUCCESS:"USER_SIGN_UP_SUCCESS",ERROR:"USER_SIGN_UP_ERROR",RESET_ERRORS:"USER_SIGN_UP_RESET_ERRORS"},UPDATE:{SUCCESS:"USER_UPDATE_SUCCESS",ERROR:"USER_UPDATE_ERROR"},DELETE:{SUCCESS:"USER_DELETE_SUCCESS",ERROR:"USER_DELETE_ERROR"},LOGIN:{SUCCESS:"USER_LOGIN_SUCCESS",ERROR:"USER_LOGIN_ERROR",RESET_ERRORS:"USER_LOGIN_RESET_ERRORS"},LOGOUT:{SUCCESS:"USER_LOGOUT_SUCCESS",ERROR:"USER_LOGOUT_ERROR"}},C={apiUrl:"https://varwish-be.herokuapp.com/",originUrl:"https://varwishteam.github.io/varwish-fe/"},O=void 0,w=function(e,t,a){return fetch(C.apiUrl+t+"/",{method:e,headers:{"Content-Type":"application/json",Authorization:O&&"Token  ".concat(O),Origin:C.originUrl},body:JSON.stringify(a)}).then(function(t){return t.ok?"delete"===e?"deleted":t.json():t.json().then(function(e){return Promise.reject(e)})})},N=function(e,t){return w("get",e,t)},v=function(e,t){return w("post",e,t)},T=function(e,t){return w("put",e,t)},I=function(e,t){return w("delete",e,t)},U=function(e){console.log("Setting currentAuthToken to ".concat(e)),O=e},L={LOGIN:"rest-auth/login",LOGOUT:"rest-auth/logout",SIGN_UP:"sign-up",WISHLISTS:"wishlists",ITEMS:function(e){return"wishlists/".concat(e,"/items")}},_={CREATE:{SUCCESS:"WISHLIST_CREATE_SUCCESS",ERROR:"WISHLIST_CREATE_ERROR"},GET:{SUCCESS:"WISHLIST_GET_SUCCESS",ERROR:"WISHLIST_GET_ERROR"},GET_ALL:{SUCCESS:"WISHLIST_GET_ALL_SUCCESS",ERROR:"WISHLIST_GET_ALL_ERROR"},UPDATE:{SUCCESS:"WISHLIST_UPDATE_SUCCESS",ERROR:"WISHLIST_UPDATE_ERROR"},DELETE:{SUCCESS:"WISHLIST_DELETE_SUCCESS",ERROR:"WISHLIST_DELETE_ERROR"}},j={OPEN:"MODAL_OPEN",CLOSE:"MODAL_CLOSE"},A={CREATE:"WISHLIST_CREATE_MODAL",UPDATE:"WISHLIST_UPDATE_MODAL"},k={CREATE:"ITEM_CREATE_MODAL",UPDATE:"ITEM_UPDATE_MODAL"},D=function(e,t){return{type:j.OPEN,payload:{modalName:e,item:t}}},P=function(){return{type:j.CLOSE}},M={CREATE:{SUCCESS:"ITEM_CREATE_SUCCESS",ERROR:"ITEM_CREATE_ERROR"},GET:{SUCCESS:"ITEM_GET_SUCCESS",ERROR:"ITEM_GET_ERROR"},GET_ALL:{SUCCESS:"ITEM_GET_ALL_SUCCESS",ERROR:"ITEM_GET_ALL_ERROR"},UPDATE:{SUCCESS:"ITEM_UPDATE_SUCCESS",ERROR:"ITEM_UPDATE_ERROR"},DELETE:{SUCCESS:"ITEM_DELETE_SUCCESS",ERROR:"ITEM_DELETE_ERROR"}};var G=a(18);var W=a(226),x=Object(h.c)({wishlistsReducer:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case _.CREATE.SUCCESS:return Object(R.a)({},t,{wishlists:[].concat(Object(G.a)(t.wishlists),[a.payload[0]])});case _.GET_ALL.SUCCESS:return Object(R.a)({},t,{wishlists:a.payload});case _.GET.SUCCESS:case _.UPDATE.SUCCESS:return Object(R.a)({},t,{wishlists:[].concat(Object(G.a)(t.wishlists.filter(function(e){return e.id!==a.payload.id})),[a.payload])});case _.DELETE.SUCCESS:return Object(R.a)({},t,{wishlists:t.wishlists.filter(function(e){return e.id!==a.payload.id})});case M.CREATE.SUCCESS:return(e=t.wishlists.filter(function(e){return e.id===a.payload.wishlist})[0]).items=[].concat(Object(G.a)(e.items),[a.payload]),Object(R.a)({},t,{wishlists:[].concat(Object(G.a)(t.wishlists.filter(function(e){return e.id!==a.payload.wishlist})),[e])});case M.UPDATE.SUCCESS:return(e=t.wishlists.filter(function(e){return e.id===a.payload.wishlist})[0]).items=[].concat(Object(G.a)(e.items.filter(function(e){return e.id!==a.payload.id})),[a.payload]),Object(R.a)({},t,{wishlists:[].concat(Object(G.a)(t.wishlists.filter(function(e){return e.id!==a.payload.wishlist})),[e])});case M.DELETE.SUCCESS:return(e=t.wishlists.filter(function(e){return e.id===a.payload.wishlistId})[0]).items=e.items.filter(function(e){return e.id!==a.payload.itemId}),Object(R.a)({},t,{wishlists:[].concat(Object(G.a)(t.wishlists.filter(function(e){return e.id!==a.payload.wishlistId})),[e])});default:return t}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.SIGN_UP.SUCCESS:return Object(R.a)({},e,{isLoggedIn:!0,user:t.payload,signUpError:null});case y.SIGN_UP.ERROR:return Object(R.a)({},e,{isLoggedIn:!1,user:null,signUpError:t.payload});case y.SIGN_UP.RESET_ERRORS:return Object(R.a)({},e,{signUpError:null});case y.UPDATE.SUCCESS:return Object(R.a)({},e,{user:t.payload});case y.DELETE.SUCCESS:return Object(R.a)({},e,{user:{}});case y.LOGIN.SUCCESS:return Object(R.a)({},e,{isLoggedIn:!0,user:t.payload});case y.LOGIN.ERROR:case y.LOGOUT:return Object(R.a)({},e,{isLoggedIn:!1,user:{}});default:return e}},modalReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.OPEN:return Object(R.a)({},e,{openedModal:t.payload.modalName,currentlyEditedItem:t.payload.item||{}});case j.CLOSE:return Object(R.a)({},e,{openedModal:null,currentlyEditedItem:{}});default:return e}},form:W.a}),H={key:"root",storage:S.a,blacklist:["modalReducer","form"]},F=Object(b.a)(H,x),q=Object(h.e)(F,{userReducer:{isLoggedIn:!1,user:{}},wishlistsReducer:{wishlists:[]},modalReducer:{openedModal:null,currentlyEditedItem:{}}},Object(h.d)(Object(h.a)(g.a,function(e){return function(e){return function(t){return t.type===y.LOGIN.SUCCESS&&U(t.payload.key),t.type===y.SIGN_UP.SUCCESS&&U(t.payload.key),"persist/REHYDRATE"===t.type&&t.payload&&U(t.payload.userReducer.user.key),t.type===y.LOGOUT&&U(null),e(t)}}}),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),V=Object(b.b)(q);function X(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navbar navbar-light bg-faded"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"drawer","data-target":"#main-drawer","aria-expanded":"false"},r.a.createElement("span",{className:"sr-only"},"Toggle drawer"),r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"nav navbar-nav"},r.a.createElement("li",{className:"nav-item"},"VarWish"))))}var z=a(30),B=Object(z.f)(function(e){var t=e.history,a=e.isLoggedIn,n=e.dispatchLogOut;return a?r.a.createElement("button",{type:"button",className:"btn btn-primary btn-block list-group-item",onClick:function(){n().then(function(){return t.push("/")})}},r.a.createElement("i",{className:"material-icons"},"close"),"Log Out"):r.a.createElement(E.b,{to:"/login",color:"inherit"},r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Log In"))}),J=Object(d.b)(function(e){return{isLoggedIn:e.userReducer.isLoggedIn}},function(e){return{dispatchLogOut:function(){return e(function(e){return v(L.LOGOUT).then(function(t){e({type:y.LOGOUT})})})}}})(B),Y=Object(d.b)(function(e){return{isLoggedIn:e.userReducer.isLoggedIn}},null)(function(e){return!e.isLoggedIn&&r.a.createElement(E.b,{to:"/sign-up",color:"inherit"},r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Sign Up"))}),$=(a(181),function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"bounce1"}),r.a.createElement("div",{className:"bounce2"}),r.a.createElement("div",{className:"bounce3"}))}),K=(a(182),document.getElementById("modal-root")),Q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).el=document.createElement("div"),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){K.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){K.removeChild(this.el)}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.modalType,n=e.children,i=e.openedModal,o=e.dispatchCloseModal;return n?i===a?l.a.createPortal(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"modal",className:"modal d-block",tabIndex:"-1",role:"dialog"},r.a.createElement("div",{className:"modal-backdrop",onClick:o}),r.a.createElement("div",{className:"modal-dialog  modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},t),r.a.createElement("button",{type:"button",className:"close",onClick:o,"aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},n))))),this.el):null:(console.error("Error in Modal component: You need to pass some children to be rendered in the Modal"),null)}}]),t}(n.Component),Z=Object(d.b)(function(e){return{openedModal:e.modalReducer.openedModal}},function(e){return{dispatchCloseModal:function(){return e(P())}}})(Q),ee=a(104),te=a(224),ae=a(225),ne=function(e){var t=e.input,a=e.label,n=e.type,i=e.meta,l=i.touched,o=i.error,s=i.warning;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t.name},a),r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:"form-control ".concat(o&&"is-invalid")},t,{type:n})),l&&(o&&r.a.createElement("span",{className:"text-danger"},o)||s&&r.a.createElement("span",{className:"text-warning"},s))))};function re(e){var t=e.name,a=e.type,n=e.label;return r.a.createElement(ae.a,{name:t,component:ne,type:a,label:n})}var ie=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.wishlist;e&&this.props.initialize({wishlistName:e.name,wishlistDescription:e.description})}},{key:"render",value:function(){var e=this.props,t=e.wishlist,a=e.handleSubmit,n=e.submitting,i=e.pristine,l=e.invalid,o=e.dispatchCreateWishlist,s=e.dispatchUpdateWishlist,c=e.closeModal,m=e.modalType;return r.a.createElement("form",{id:"wishlistForm",onSubmit:a(function(e){return m===A.CREATE?o(e).then(c).catch(function(e){throw new ee.a(e)}):m===A.UPDATE?(e.wishlistId=t.id,s(e).then(c).catch(function(e){throw new ee.a(e)})):void 0}),className:"m-0"},r.a.createElement(re,{name:"wishlistName",type:"text",label:"Wishlist name"}),r.a.createElement(re,{name:"wishlistDescription",type:"text",label:"Wishlist description"}),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:c},"Cancel"),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:i||l||n},"Save")))}}]),t}(n.Component),le=Object(te.a)({form:"wishlistForm",validate:function(e){var t={};return e.wishlistName||(t.wishlistName="Required"),e.wishlistDescription||(t.wishlistDescription="Required"),t}})(Object(d.b)(null,function(e){return{dispatchCreateWishlist:function(t){return e(function(e){return function(t,a){return v(L.WISHLISTS,{name:e.wishlistName,description:e.wishlistDescription,user:a().userReducer.user.id,items:e.items||[]}).then(function(e){return t({type:_.CREATE.SUCCESS,payload:e}),e}).catch(function(e){throw t({type:_.CREATE.ERROR,payload:e}),e})}}(t))},dispatchUpdateWishlist:function(t){return e(function(e){return function(t,a){return T(L.WISHLISTS+"/"+e.wishlistId,{name:e.wishlistName,description:e.wishlistDescription,user:a().userReducer.user.id,items:e.items||[]}).then(function(e){return t({type:_.UPDATE.SUCCESS,payload:e}),e}).catch(function(e){throw t({type:_.UPDATE.ERROR,payload:e}),e})}}(t))},closeModal:function(){return e(P())}}})(ie)),oe=function(e){var t=e.wishlist;return r.a.createElement(le,{modalType:A.CREATE,wishlist:t})},se=function(e){var t=e.wishlist;return r.a.createElement(le,{modalType:A.UPDATE,wishlist:t})},ce=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.item;e&&this.props.initialize({itemName:e.item_name,itemNote:e.description,itemLink:e.link,itemPrice:e.price,itemAmount:e.amount})}},{key:"render",value:function(){var e=this.props,t=e.item,a=e.wishlistId,n=e.handleSubmit,i=e.submitting,l=e.pristine,o=e.invalid,s=e.dispatchCreateItem,c=e.dispatchUpdateItem,m=e.closeModal,u=e.modalType;return r.a.createElement("form",{id:"itemForm",onSubmit:n(function(e){return e.wishlist=a,u===k.CREATE?s(e).then(m).catch(function(e){throw new ee.a(e)}):u===k.UPDATE?(e.itemId=t.id,c(e).then(m).catch(function(e){throw new ee.a(e)})):void 0}),className:"m-0"},r.a.createElement(re,{name:"itemName",type:"text",label:"Item name"}),r.a.createElement(re,{name:"itemNote",type:"text",label:"Note"}),r.a.createElement(re,{name:"itemLink",type:"text",label:"Link"}),r.a.createElement(re,{name:"itemPrice",type:"text",label:"Price"}),r.a.createElement(re,{name:"itemAmount",type:"text",label:"Amount"}),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:m},"Cancel"),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:l||o||i},"Save")))}}]),t}(n.Component),me=Object(te.a)({form:"itemForm",validate:function(e){var t={};return e.itemName||(t.itemName="Required"),e.itemNote||(t.itemNote="Required"),e.itemLink||(t.itemLink="Required"),e.itemAmount||(t.itemAmount="Required"),e.itemPrice||(t.itemPrice="Required"),t}})(Object(d.b)(null,function(e){return{dispatchCreateItem:function(t){return e(function(e){return function(t,a){return v(L.ITEMS(e.wishlist),{item_name:e.itemName,note:e.itemNote,link:e.itemLink,amount:e.itemAmount,price:e.itemPrice,wishlist:e.wishlist,user:a().userReducer.user.id}).then(function(e){return t({type:M.CREATE.SUCCESS,payload:e}),e}).catch(function(e){throw t({type:M.CREATE.ERROR,payload:e}),e})}}(t))},dispatchUpdateItem:function(t){return e(function(e){return function(t,a){return T(L.ITEMS(e.wishlist)+"/"+e.itemId,{item_name:e.itemName,note:e.itemNote,link:e.itemLink,amount:e.itemAmount,price:e.itemPrice,wishlist:e.wishlist,user:a().userReducer.user.id}).then(function(e){return t({type:M.UPDATE.SUCCESS,payload:e}),e}).catch(function(e){throw t({type:M.UPDATE.ERROR,payload:e}),e})}}(t))},closeModal:function(){return e(P())}}})(ce)),ue=function(e){var t=e.item,a=e.wishlistId;return r.a.createElement(me,{modalType:k.CREATE,item:t,wishlistId:a})},de=function(e){var t=e.item,a=e.wishlistId;return r.a.createElement(me,{modalType:k.UPDATE,item:t,wishlistId:a})},Ee=(a(220),function(e){var t,a=e.wishlist;return r.a.createElement(E.b,{to:"/wishlists/".concat(a.id),className:"w-50 homepage-wishlist"},r.a.createElement("button",{type:"button",className:"btn btn-primary homepage-wishlist--container"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title homepage-wishlist--title"},a.name),r.a.createElement("div",{className:"card-text homepage-wishlist--text"},a.items&&a.items.length>0&&r.a.createElement("ul",null,(t=a.items,t.length<=5?t:t.slice(0,5)).map(function(e){return r.a.createElement("li",{key:e.id},e.item_name)})))))))});var pe=Object(z.f)(function(e){var t=e.location;return r.a.createElement("div",{className:"d-flex flex-column justify-content-between flex-grow-1"},r.a.createElement("ul",{className:"nav flex-column border-bottom"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.b,{className:"nav-link p-0",to:"/"},r.a.createElement("button",{type:"button",className:"btn btn-primary btn-block list-group-item ".concat(("/"===t.pathname||t.pathname.includes("/wishlists"))&&"active"),"data-toggle":"drawer","data-target":"#main-drawer"},"Wishlists")))),r.a.createElement("ul",{className:"nav flex-column border-top"},r.a.createElement("li",null,r.a.createElement(J,null))))});function he(e){var t=e.children;return r.a.createElement("div",{className:"position-relative vw-100 vh-100"},r.a.createElement("div",{className:"bmd-layout-container bmd-drawer-f-l bmd-drawer-in-lg-up bmd-drawer-overlay-md-down"},r.a.createElement("header",{className:"bmd-layout-header d-lg-none"},r.a.createElement(X,null)),r.a.createElement("div",{id:"main-drawer",className:"bmd-layout-drawer bg-faded","aria-expanded":"false","aria-hidden":"true"},r.a.createElement("header",{className:"d-flex flex-column align-items-center"},r.a.createElement("i",{className:"material-icons md-48"},"list_alt"),r.a.createElement("span",{className:"h3 navbar-brand font-weight-bold"},"VarWish")),r.a.createElement(pe,null)),r.a.createElement("main",{className:"bmd-layout-content"},r.a.createElement("div",{className:"container-fluid p-4"},t))))}var be=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement(E.b,{to:"/"},r.a.createElement("span",{className:"navbar-brand mb-0 h1"},"VarWish")),r.a.createElement("div",{className:"navbar-authbuttons"},r.a.createElement(J,{type:"button"}),r.a.createElement(Y,{type:"button"}))),t)},fe=a(103),Se=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.isLoggedIn&&this.props.getAllWishlists()}},{key:"render",value:function(){var e=this.props,t=e.isLoggedIn,a=e.wishlists,n=e.openWishlistCreateModal;return t?r.a.createElement("main",{className:"d-flex flex-row flex-wrap"},r.a.createElement("button",{type:"button",className:"btn btn-dark w-50 btn-icon",onClick:n},r.a.createElement("i",{className:"material-icons"},"add"),"New Wishlist"),a&&a.length>0&&function(e){return e.map(function(e){return r.a.createElement(Ee,{key:e.id||"id-not-yet-available",wishlist:e})})}(a),r.a.createElement(Z,{title:"New wishlist",modalType:A.CREATE},r.a.createElement(oe,null))):r.a.createElement(r.a.Fragment,null,"Not logged in")}}]),t}(n.Component),ge=Object(d.b)(function(e){return{user:e.userReducer.user,isLoggedIn:e.userReducer.isLoggedIn,wishlists:e.wishlistsReducer.wishlists}},function(e){return{getAllWishlists:function(){return e(function(e,t){return N(L.WISHLISTS).then(function(t){return e({type:_.GET_ALL.SUCCESS,payload:t}),t}).catch(function(t){throw e({type:_.GET_ALL.ERROR,payload:t}),t})})},openWishlistCreateModal:function(){return e(D(A.CREATE))}}})(Se),Re=a(33),ye=(a(221),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",rememberLogin:!0,redirectToReferrer:!1,loginErrors:[]},a.login=function(e){e.preventDefault(),a.props.dispatchLogIn(Object(R.a)({},a.state)).catch(function(e){a.setState({loginErrors:Object(G.a)(Object.values(e))})})},a.handleChange=function(e){return function(t){a.setState(Object(Re.a)({},e,"rememberLogin"===e?t.target.checked:t.target.value))}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=(this.props.location.state||{from:{pathname:"/"}}).from,t=this.state,a=t.username,n=t.password,i=t.rememberLogin,l=t.redirectToReferrer,o=t.loginErrors;return l?r.a.createElement(z.a,{to:e}):r.a.createElement("div",{className:"wrapper"},r.a.createElement("form",{className:"form-login"},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Please log in"),o.length>0&&r.a.createElement("div",{className:"alert alert-danger",role:"alert"},o.map(function(e,t){return r.a.createElement("span",{key:t},e)})),r.a.createElement("div",{className:"bmd-form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"username",placeholder:"Username or Email",value:a,onChange:this.handleChange("username")})),r.a.createElement("div",{className:"bmd-form-group"},r.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:n,onChange:this.handleChange("password")})),r.a.createElement("div",{className:"checkbox-inline"},r.a.createElement("label",{htmlFor:"rememberLogin"},r.a.createElement("input",{type:"checkbox",id:"rememberLogin",checked:i,onChange:this.handleChange("rememberLogin")}),"Remember me")),r.a.createElement("button",{type:"button",className:"btn btn-lg btn-primary btn-block btn-outline",onClick:this.login},"Log in")))}}]),t}(n.Component)),Ce=Object(d.b)(null,function(e){return{dispatchLogIn:function(t,a){return e(function(e){var t=e.username,a=e.password,n=e.rememberLogin;return function(e){return v(L.LOGIN,{username:t,password:a}).then(function(t){t.user&&t.key?e({type:y.LOGIN.SUCCESS,payload:{id:t.user,key:t.key,rememberLogin:n}}):e({type:y.LOGIN.ERROR,payload:t})})}}(t))}}})(ye);var Oe=Object(z.f)(function(e){var t=e.location;return r.a.createElement("div",{className:"d-flex flex-column align-items-center"},r.a.createElement("h1",null,"404 - Not found"),r.a.createElement("p",null,"There's nothing on this path \"",t.pathname,'"'),r.a.createElement(E.b,{to:"/"},r.a.createElement("button",{className:"btn btn-primary"},"Go to homepage")))}),we=(a(222),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={firstName:"",lastName:"",username:"",email:"",passwordSet:"",passwordConfirm:"",errors:{},signUpErrors:[]},a.handleSignUp=function(e){e.preventDefault(),a.setState({isLoading:!0}),a.props.dispatchSignUp(Object(R.a)({},a.state)).then(function(){a.setState({isLoading:!1})}).catch(function(e){a.setState({signUpErrors:Object(G.a)(Object.values(e)),isLoading:!1})})},a.handleChange=function(e){return function(t){a.setState(Object(Re.a)({},e,t.target.value))}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.props.resetSignUpErrors()}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.passwordSet,n=e.passwordConfirm,i=e.email,l=e.firstName,o=e.lastName,s=e.signUpErrors,c=e.isLoading;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("form",{className:"form-signup"},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Sign Up"),!!s.length&&r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Invalid values"),r.a.createElement("div",{className:"bmd-form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"username",placeholder:"Username",value:t,onChange:this.handleChange("username")})),r.a.createElement("div",{className:"bmd-form-group"},r.a.createElement("input",{type:"text",id:"email",className:"form-control",placeholder:"Email",value:i,onChange:this.handleChange("email")})),r.a.createElement("div",{className:"bmd-form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"first-name",placeholder:"First name",value:l,onChange:this.handleChange("firstName")})),r.a.createElement("div",{className:"bmd-form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"last-name",placeholder:"Last name",value:o,onChange:this.handleChange("lastName")})),r.a.createElement("div",{className:"bmd-form-group"},r.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Type in yout password",value:a,onChange:this.handleChange("passwordSet")})),r.a.createElement("div",{className:"bmd-form-group"},r.a.createElement("input",{type:"password",className:"form-control",id:"password-confirm",placeholder:"Confirm a password",value:n,onChange:this.handleChange("passwordConfirm")})),r.a.createElement("button",{type:"button",className:"btn btn-lg btn-primary btn-block btn-outline mt-3",onClick:this.handleSignUp},c?r.a.createElement($,null):"Sign-Up")))}}]),t}(n.Component)),Ne=Object(d.b)(null,function(e){return{dispatchSignUp:function(t){return e(function(e){var t=e.firstName,a=e.lastName,n=e.username,r=e.email,i=e.passwordSet,l=e.passwordConfirm;return function(e){return v(L.SIGN_UP,{username:n,email:r,password1:i,password2:l,first_name:t,last_name:a}).then(function(t){t.user&&t.key?e({type:y.SIGN_UP.SUCCESS,payload:{id:t.user,key:t.key}}):e({type:y.SIGN_UP.ERROR,payload:{error:t}})})}}(t))},resetSignUpErrors:function(){return e({type:y.SIGN_UP.RESET_ERRORS})}}})(we),ve=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).renderItems=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"list-unstyled"},e.map(function(e,t){return r.a.createElement("li",{key:e.id,className:"d-flex flex-row ".concat(t%2===0&&"bg-light")},r.a.createElement("span",null,e.item_name),r.a.createElement("div",{className:"flex-grow-1"}),r.a.createElement("button",{type:"button",className:"btn text-secondary bmd-btn-icon",onClick:function(){return a.props.openUpdateItemModal(e)}},r.a.createElement("i",{className:"material-icons"},"edit")),r.a.createElement("button",{type:"button",className:"btn text-secondary bmd-btn-icon",onClick:function(){return a.handleDeleteItem(e)}},r.a.createElement("i",{className:"material-icons"},"delete")))})))},a.handleDeleteItem=function(e){e.wishlist=a.props.wishlist.id,a.props.dispatchDeleteItem(e).then(function(){return a.forceUpdate()})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getWishlist()}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.openWishlistUpdateModal,n=e.wishlist,i=e.dispatchDeleteWishlist,l=e.openCreateItemModal;return r.a.createElement(r.a.Fragment,null,void 0===n?r.a.createElement("p",null,"Wishlist with id: ",t.params.wishlistId," was not found!"):r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"nav"},r.a.createElement("h1",{className:"nav-item"},n.name),r.a.createElement("div",{className:"flex-grow-1"}),r.a.createElement("div",{className:"btn-group d-block",role:"group","aria-label":"Wihslist actions"},r.a.createElement("button",{type:"button",className:"btn btn-secondary btn-icon",onClick:a},r.a.createElement("i",{className:"material-icons"},"edit"),"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-danger btn-icon","data-toggle":"snackbar","data-content":"Wishlist ".concat(n.name," deleted"),"data-html-allowed":"true","data-timeout":"5000",onClick:function(){return i(n)}},r.a.createElement("i",{className:"material-icons"},"delete"),"Delete"))),r.a.createElement("span",{className:"h6 text-muted"},"Description:"),r.a.createElement("p",null,n.description),r.a.createElement("p",{className:"h6 text-muted"},"Items:"),r.a.createElement("button",{className:"btn btn-raised btn-primary btn-icon",onClick:l},r.a.createElement("i",{className:"material-icons"},"add"),"New item"),n.items&&this.renderItems(n.items),r.a.createElement(Z,{title:"Editing ".concat(n.name),modalType:A.UPDATE},r.a.createElement(se,{wishlist:n})),r.a.createElement(Z,{title:"New item",modalType:k.CREATE},r.a.createElement(ue,{wishlistId:n.id})),r.a.createElement(Z,{title:"Editing ".concat(this.props.currentlyEditedItem.item_name),modalType:k.UPDATE},r.a.createElement(de,{wishlistId:n.id,item:this.props.currentlyEditedItem}))))}}]),t}(n.Component),Te=Object(z.f)(Object(d.b)(function(e,t){return{wishlist:e.wishlistsReducer.wishlists.filter(function(e){return e.id===t.match.params.wishlistId})[0],openedModal:e.modalReducer.openedModal,currentlyEditedItem:e.modalReducer.currentlyEditedItem}},function(e,t){return{getWishlist:function(){return e((a=t.match.params.wishlistId,function(e,t){return N(L.WISHLISTS+"/"+a).then(function(t){return e({type:_.GET.SUCCESS,payload:t}),t}).catch(function(t){throw e({type:_.GET.ERROR,payload:t}),t})}));var a},dispatchDeleteWishlist:function(a){e(function(e){return function(t){return I(L.WISHLISTS+"/"+e.id).then(function(a){return console.log(a),t({type:_.DELETE.SUCCESS,payload:{id:e.id}}),a}).catch(function(e){t({type:_.DELETE.ERROR,payload:e})})}}(a)).then(function(){t.history.push("/")})},openWishlistUpdateModal:function(){return e(D(A.UPDATE))},openCreateItemModal:function(){return e(D(k.CREATE))},openUpdateItemModal:function(t){return e(D(k.UPDATE,t))},dispatchDeleteItem:function(t){return e(function(e){return function(t){return I(L.ITEMS(e.wishlist)+"/"+e.id).then(function(a){return t({type:M.DELETE.SUCCESS,payload:{wishlistId:e.wishlist,itemId:e.id}}),a}).catch(function(e){console.log(e),t({type:M.DELETE.ERROR,payload:e})})}}(t))}}})(ve));var Ie=function(){return r.a.createElement(z.a,{to:{pathname:"/"}})};function Ue(e){var t=e.component,a=e.isLoggedIn,n=Object(fe.a)(e,["component","isLoggedIn"]);return r.a.createElement(z.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(z.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var Le=Object(d.b)(function(e){return{isLoggedIn:e.userReducer.isLoggedIn}},null)(function(e){var t=e.isLoggedIn;return t?r.a.createElement(he,null,r.a.createElement(z.d,null,r.a.createElement(z.b,{exact:!0,path:"/",component:ge}),r.a.createElement(z.b,{path:"/login",component:Ie}),r.a.createElement(z.b,{path:"/sign-up",component:Ie}),r.a.createElement(z.b,{exact:!0,path:"/wishlists",component:Ie}),r.a.createElement(Ue,{path:"/wishlists/:wishlistId",component:Te,isLoggedIn:t}),r.a.createElement(z.b,{component:Oe}))):r.a.createElement(be,null,r.a.createElement(z.d,null,r.a.createElement(z.b,{exact:!0,path:"/",component:ge}),r.a.createElement(z.b,{path:"/login",component:Ce}),r.a.createElement(z.b,{path:"/sign-up",component:Ne}),r.a.createElement(z.b,{component:Oe})))}),_e=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:q},r.a.createElement(p.a,{loading:r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),persistor:V},r.a.createElement(E.a,{basename:"/varwish-fe"},r.a.createElement(Le,null))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(_e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[105,1,2]]]);
//# sourceMappingURL=main.2d657de1.chunk.js.map